using System;

public class LabWork1
{
    private static int ReadInt(string message)
    {
        int result;
        Console.Write(message);
        while (!int.TryParse(Console.ReadLine(), out result))
        {
            Console.Write("Ошибка! Введите целое число: ");
        }
        return result;
    }

    private static int ReadIntFromZeroToNine(string message)
    {
        int result;
        do
        {
            Console.Write(message);
            while (!int.TryParse(Console.ReadLine(), out result))
            {
                Console.Write("Ошибка! Введите целое число: ");
            }
            if (result < 0 || result > 9)
            {
                Console.WriteLine("Число должно быть от 0 до 9");
            }
        } while (result < 0 || result > 9);
        return result;
    }

    private static string ReadString(string message)
    {
        Console.Write(message);
        return Console.ReadLine();
    }

    private static char ReadChar(string message)
    {
        Console.Write(message);
        return Console.ReadKey().KeyChar;
    }

    public int SumLastNums(int x)
    {
        return (x % 10) + ((x / 10) % 10);
    }

    public bool IsPositive(int x)
    {
        return x > 0;
    }

    public bool IsUpperCase(char x)
    {
        return x >= 'A' && x <= 'Z';
    }

    public bool IsDivisor(int a, int b)
    {
        return a != 0 && b != 0 && (a % b == 0 || b % a == 0);
    }

    public int LastNumSum(int a, int b)
    {
        return (a % 10) + (b % 10);
    }

    public double SafeDiv(int x, int y)
    {
        if (y == 0) return 0;
        return (double)x / y;
    }

    public string MakeDecision(int x, int y)
    {
        if (x > y) return $"{x} > {y}";
        if (x < y) return $"{x} < {y}";
        return $"{x} == {y}";
    }

    public bool Sum3(int x, int y, int z)
    {
        return x + y == z || x + z == y || y + z == x;
    }

    public string Age(int x)
    {
        int lastDigit = x % 10;
        int lastTwoDigits = x % 100;

        if (lastTwoDigits >= 11 && lastTwoDigits <= 14) return $"{x} лет";
        if (lastDigit == 1) return $"{x} год";
        if (lastDigit >= 2 && lastDigit <= 4) return $"{x} года";
        return $"{x} лет";
    }

    public void PrintDays(string x)
    {
        switch (x.ToLower())
        {
            case "понедельник":
                Console.WriteLine("понедельник");
                Console.WriteLine("вторник");
                Console.WriteLine("среда");
                Console.WriteLine("четверг");
                Console.WriteLine("пятница");
                Console.WriteLine("суббота");
                Console.WriteLine("воскресенье");
                break;
            case "вторник":
                Console.WriteLine("вторник");
                Console.WriteLine("среда");
                Console.WriteLine("четверг");
                Console.WriteLine("пятница");
                Console.WriteLine("суббота");
                Console.WriteLine("воскресенье");
                break;
            case "среда":
                Console.WriteLine("среда");
                Console.WriteLine("четверг");
                Console.WriteLine("пятница");
                Console.WriteLine("суббота");
                Console.WriteLine("воскресенье");
                break;
            case "четверг":
                Console.WriteLine("четверг");
                Console.WriteLine("пятница");
                Console.WriteLine("суббота");
                Console.WriteLine("воскресенье");
                break;
            case "пятница":
                Console.WriteLine("пятница");
                Console.WriteLine("суббота");
                Console.WriteLine("воскресенье");
                break;
            case "суббота":
                Console.WriteLine("суббота");
                Console.WriteLine("воскресенье");
                break;
            case "воскресенье":
                Console.WriteLine("воскресенье");
                break;
            default:
                Console.WriteLine("это не день недели");
                break;
        }
    }

    public string ReverseListNums(int x)
    {
        string result = "";
        for (int i = x; i >= 0; i--)
        {
            result += i + (i > 0 ? " " : "");
        }
        return result;
    }

    public int Pow(int x, int y)
    {
        int result = 1;
        for (int i = 0; i < y; i++)
        {
            result *= x;
        }
        return result;
    }

    public bool EqualNum(int x)
    {
        x = Math.Abs(x);
        int lastDigit = x % 10;
        x /= 10;
        
        while (x > 0)
        {
            if (x % 10 != lastDigit) return false;
            x /= 10;
        }
        return true;
    }

    public void LeftTriangle(int x)
    {
        for (int i = 1; i <= x; i++)
        {
            for (int j = 0; j < i; j++)
            {
                Console.Write('*');
            }
            Console.WriteLine();
        }
    }

    public void GuessGame()
    {
        Random rand = new Random();
        int secret = rand.Next(0, 10);
        int guess;
        int attempts = 0;
        
        do
        {
            guess = ReadIntFromZeroToNine("Введите число от 0 до 9: ");
            attempts++;
            
            if (guess != secret)
            {
                Console.WriteLine("Вы не угадали, попробуйте снова");
            }
        } while (guess != secret);
        
        Console.WriteLine($"Вы отгадали число за {attempts} попытки");
    }

    public int FindLast(int[] arr, int x)
    {
        for (int i = arr.Length - 1; i >= 0; i--)
        {
            if (arr[i] == x) return i;
        }
        return -1;
    }

    public int[] Add(int[] arr, int x, int pos)
    {
        if (pos < 0 || pos > arr.Length) return arr;
        
        int[] newArr = new int[arr.Length + 1];
        
        for (int i = 0; i < pos; i++)
        {
            newArr[i] = arr[i];
        }
        
        newArr[pos] = x;
        
        for (int i = pos; i < arr.Length; i++)
        {
            newArr[i + 1] = arr[i];
        }
        
        return newArr;
    }

    public void Reverse(int[] arr)
    {
        int temp;
        for (int i = 0; i < arr.Length / 2; i++)
        {
            temp = arr[i];
            arr[i] = arr[arr.Length - 1 - i];
            arr[arr.Length - 1 - i] = temp;
        }
    }

    public int[] Concat(int[] arr1, int[] arr2)
    {
        int[] result = new int[arr1.Length + arr2.Length];
        
        for (int i = 0; i < arr1.Length; i++)
        {
            result[i] = arr1[i];
        }
        
        for (int i = 0; i < arr2.Length; i++)
        {
            result[arr1.Length + i] = arr2[i];
        }
        
        return result;
    }

    public int[] DeleteNegative(int[] arr)
    {
        int count = 0;
        for (int i = 0; i < arr.Length; i++)
        {
            if (arr[i] >= 0) count++;
        }
        
        int[] result = new int[count];
        int index = 0;
        
        for (int i = 0; i < arr.Length; i++)
        {
            if (arr[i] >= 0)
            {
                result[index++] = arr[i];
            }
        }
        
        return result;
    }

    private static void PrintArray(int[] arr)
    {
        Console.Write("[");
        for (int i = 0; i < arr.Length; i++)
        {
            Console.Write(arr[i]);
            if (i < arr.Length - 1) Console.Write(", ");
        }
        Console.WriteLine("]");
    }

    public static void Main()
    {
        LabWork1 lab = new LabWork1();
        
        Console.WriteLine("Сумма двух последних знаков");
        int num1 = ReadInt("Введите число (не менее 2 знаков): ");
        Console.WriteLine($"Результат: {lab.SumLastNums(num1)}");
        
        Console.WriteLine("\nПроверка на положительность");
        int num2 = ReadInt("Введите число: ");
        Console.WriteLine($"Результат: {lab.IsPositive(num2)}");
        
        Console.WriteLine("\nПроверка на большую букву");
        Console.Write("Введите символ: ");
        char ch = Console.ReadKey().KeyChar;
        Console.WriteLine($"\nРезультат: {lab.IsUpperCase(ch)}");
        
        Console.WriteLine("\nПроверка на делитель");
        int a = ReadInt("Введите первое число: ");
        int b = ReadInt("Введите второе число: ");
        Console.WriteLine($"Результат: {lab.IsDivisor(a, b)}");
        
        Console.WriteLine("\nСумма последних цифр пяти чисел");
        int sum = 0;
        int prev = 0;
        for (int i = 0; i < 5; i++)
        {
            int current = ReadInt($"Введите число {i + 1}: ");
            if (i > 0)
            {
                sum = lab.LastNumSum(prev, current);
                Console.WriteLine($"{prev} + {current} = {sum}");
            }
            prev = current;
        }
        Console.WriteLine($"Итого: {sum}");
        
        Console.WriteLine("\nБезопасное деление");
        int x = ReadInt("Введите делимое: ");
        int y = ReadInt("Введите делитель: ");
        Console.WriteLine($"Результат: {lab.SafeDiv(x, y)}");
        
        Console.WriteLine("\nСтрока сравнения");
        int compare1 = ReadInt("Введите первое число: ");
        int compare2 = ReadInt("Введите второе число: ");
        Console.WriteLine($"Результат: {lab.MakeDecision(compare1, compare2)}");
        
        Console.WriteLine("\nТройная сумма");
        int sumX = ReadInt("Введите первое число: ");
        int sumY = ReadInt("Введите второе число: ");
        int sumZ = ReadInt("Введите третье число: ");
        Console.WriteLine($"Результат: {lab.Sum3(sumX, sumY, sumZ)}");
        
        Console.WriteLine("\nВозраст");
        int age = ReadInt("Введите возраст: ");
        Console.WriteLine($"Результат: {lab.Age(age)}");
        
        Console.WriteLine("\nВывод дней недели");
        string day = ReadString("Введите день недели: ");
        lab.PrintDays(day);
        
        Console.WriteLine("\nЧисла наоборот");
        int reverseNum = ReadInt("Введите число: ");
        Console.WriteLine($"Результат: {lab.ReverseListNums(reverseNum)}");
        
        Console.WriteLine("\nCтепень числа");
        int baseNum = ReadInt("Введите основание: ");
        int exponent = ReadInt("Введите степень: ");
        Console.WriteLine($"Результат: {lab.Pow(baseNum, exponent)}");
        
        Console.WriteLine("\nОдинаковость знаков");
        int equalNum = ReadInt("Введите число: ");
        Console.WriteLine($"Результат: {lab.EqualNum(equalNum)}");
        
        Console.WriteLine("\nЛевый треугольник");
        int height = ReadInt("Введите высоту треугольника: ");
        lab.LeftTriangle(height);
        
        Console.WriteLine("\nУгадайка");
        lab.GuessGame();
        
        Console.WriteLine("\nПоиск последнего значения");
        int[] searchArr = { 1, 2, 3, 4, 2, 2, 5 };
        Console.Write("Массив: ");
        PrintArray(searchArr);
        int searchValue = ReadInt("Введите число для поиска: ");
        Console.WriteLine($"Индекс последнего вхождения: {lab.FindLast(searchArr, searchValue)}");
        
        Console.WriteLine("\nДобавление в массив");
        int[] addArr = { 1, 2, 3, 4, 5 };
        Console.Write("Исходный массив: ");
        PrintArray(addArr);
        int addValue = ReadInt("Введите число для вставки: ");
        int position = ReadInt("Введите позицию для вставки: ");
        int[] newArr = lab.Add(addArr, addValue, position);
        Console.Write("Результат: ");
        PrintArray(newArr);
        
        Console.WriteLine("\nРеверс массива");
        int[] reverseArr = { 1, 2, 3, 4, 5 };
        Console.Write("Исходный массив: ");
        PrintArray(reverseArr);
        lab.Reverse(reverseArr);
        Console.Write("После реверса: ");
        PrintArray(reverseArr);
        
        Console.WriteLine("\nОбъединение массивов");
        int[] concatArr1 = { 1, 2, 3 };
        int[] concatArr2 = { 7, 8, 9 };
        Console.Write("Первый массив: ");
        PrintArray(concatArr1);
        Console.Write("Второй массив: ");
        PrintArray(concatArr2);
        int[] concatResult = lab.Concat(concatArr1, concatArr2);
        Console.Write("Результат: ");
        PrintArray(concatResult);
        
        Console.WriteLine("\nУдалить негатив");
        int[] negativeArr = { 1, 2, -3, 4, -2, 2, -5 };
        Console.Write("Исходный массив: ");
        PrintArray(negativeArr);
        int[] deleteResult = lab.DeleteNegative(negativeArr);
        Console.Write("После удаления отрицательных: ");
        PrintArray(deleteResult);
    }
}
